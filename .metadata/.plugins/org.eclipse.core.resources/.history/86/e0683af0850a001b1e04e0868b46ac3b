package com.progresssoft.utils;

import java.util.Date;

import org.junit.internal.Throwables;
import org.slf4j.LoggerFactory;
//import com.google.common.base.Throwables;
//import ch.qos.logback.classic.Logger;

public class Logger {

	private Logger() {
	}
//
//	public static final Logger systemTraceDebug = (Logger) LoggerFactory.getLogger("systemTraceDebug");
//	public static final Logger sysInfoWarnError = (Logger) LoggerFactory.getLogger("systemInfoWarnError");
//	public static final Logger sysUserEventInfo = (Logger) LoggerFactory.getLogger("systemUserEventInfo");
//
//	public static void debug(String txt) {
//		Logger.systemTraceDebug.debug(new Date() + "---> " + txt);
//	}

//	public static void error(String string, Object[] objects) {
//		Logger.sysInfoWarnError.error("Exception: {} thrown in: {}. Message: {}. Stacktrace: {}",
//				new Object[] { string.getClass(), objects, string, Throwables.getFullStackTrace(string) });
//	}

	private org.apache.log4j.Logger logger;
	private int intLevel;

	private Logger(org.apache.log4j.Logger log4j) {
		this.logger = log4j;
	}

	public static Logger getLogger(String name) {

		return new Logger(org.apache.log4j.Logger.getLogger(name));
	}

	public static Logger getLogger(Class<?> clazz) {

		return new Logger(org.apache.log4j.Logger.getLogger(clazz));
	}

	public String getName() {
		return logger.getName();
	}

	public void LogException(String msg, Throwable exception) {

		StringBuilder sb = new StringBuilder("");
		String lineSeparator = System.getProperty("line.separator");

		sb.append(msg).append(lineSeparator);
		sb.append("Caused by:: ").append(exception.getCause()).append(lineSeparator);
		lineSeparator += "\t";

		for (StackTraceElement st : exception.getStackTrace()) {
			sb.append(st.toString() + lineSeparator);
		}

		this.logger.error(sb.toString(), exception);
//        this.logger.error(ContextUtil.getApplicationContextTrace());
	}

	public void LogException(String msg, Throwable exception, Object... params) {

		StringBuilder sb = new StringBuilder("");
		String lineSeparator = System.getProperty("line.separator");

		sb.append(String.format(msg, params)).append(lineSeparator);
		sb.append("Caused by:: ").append(exception.getCause()).append(lineSeparator);
		lineSeparator += "\t";

		for (StackTraceElement st : exception.getStackTrace()) {
			sb.append(st.toString() + lineSeparator);
		}

		this.logger.error(sb.toString(), exception);
//        this.logger.error(ContextUtil.getApplicationContextTrace());
	}

	public void logDebug(String msg, Object... args) {

	}

	public void logDebug(String msg) {

	}

	public void logInfo(String msg, Object... args) {

	}

	public void logSevere(String msg, Object... args) {

	}

	public static void main(String[] args) {
		Logger logone = Logger.getLogger(Logger.class);
		logone.logDebug("logging working now....");

		Logger logtwo = Logger.getLogger(LogException.class);
		logtwo.logInfo("logginf info ...");

		Logger logt = Logger.getLogger(UploadController.class);
		logt.logSevere("logginf iahdahjanfo ...");

		logone.logDebug("logging working now....end");
		logtwo.logInfo("logginf info ...end");
		logt.logSevere("logginf iahdahjanfo ...end");
	}

}
